<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Table Visualizer</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>Generate Table from Query</h1>
    <input
      type="text"
      id="user-query"
      placeholder="Enter your query (e.g., 'Sales Data for Electronics in New York')"
      onkeydown="if (event.key === 'Enter') processQuery(this.value)"
    />
    <button onclick="processQuery(document.getElementById('user-query').value)">
      Generate Table
    </button>
    <div id="sql-query-container"></div>
    <div id="message-container"></div>
    <div id="table-container"></div>
    <script src="config.js"></script>
    <script src="script-test-api.js"></script>
    <script>
      // Function to get URL parameters
      function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
      }

      // Function to automatically populate the input field and generate the table
      function autoGenerateTable() {
        const query = getQueryParam("query");
        if (query) {
          const inputField = document.getElementById("user-query");
          inputField.value = query;
          processQuery(query);
        }
      }

      // Call the function when the page loads
      window.onload = autoGenerateTable;
    </script>
  </body>
</html>
